<!-- https://codepen.io/rachsmith/post/beginning-with-3d-webgl-pt-1-the-scene -->
<html>
	<head>
		<title></title>
		<script type="application/javascript"
            src="js/libraries/three.min.js"></script>
		<script type="application/javascript"><!--
function init_try() {
const scene = new THREE.Scene();

// add a renderer
const renderer = new THREE.WebGLRenderer();
renderer.setSize( 800, 600 );
// add the renderer element to the DOM so it is in our page
document.body.appendChild( renderer.domElement );

// cx = 0, cy = 0, aspect ratio = 4/3
const camera = new THREE.OrthographicCamera(
  -200, 200, -150, 150, -100, 100
);

camera.position.x = camera.right - 20;
camera.position.y = camera.bottom - 20;
camera.position.z = 0;

const groupWet = new THREE.Group();
scene.add(groupWet);

{
  let geometry = new THREE.SphereGeometry(10, 100, 100);
  let purple = new THREE.MeshBasicMaterial({
    color: "purple",
    transparent: true,
    opacity: 0.7
  });
  let sphere = new THREE.Mesh(geometry, purple);
  scene.add(sphere);

  let sphere2 = new THREE.Mesh(geometry, new THREE.MeshBasicMaterial({
    color: "white",
    transparent: true,
    opacity: 0.7,
  }));
  sphere2.position.x = 20;
  sphere2.position.y = 20;
  groupWet.add(sphere2);

  let material = new THREE.LineBasicMaterial({
    color: 0x7fffff,
  });
  geometry = new THREE.Geometry();
  geometry.vertices.push(new THREE.Vector3(  0,  0, 0) );
  geometry.vertices.push(new THREE.Vector3(  0, 20, 0) );
  geometry.vertices.push(new THREE.Vector3( 20, 20, 0) );
  let line = new THREE.Line( geometry, material );
  groupWet.add( line );

  let plane = new THREE.PlaneGeometry(
    100,
    100,
    1
  );
  plane.translate(0, 0, 0);
  const lightblue = new THREE.MeshBasicMaterial({
    color: 0x7f7fff,
    transparent: true,
    opacity: 0.3,
    side: THREE.DoubleSide,
  });
  groupWet.add(new THREE.Mesh(plane, lightblue));
}

renderer.render(scene, camera);
console.log("About to clone groupWet");

/*
const groupDry = groupWet.clone(true);
console.log("Cloned groupWet");
groupDry.translate(0, 0, 100);
scene.add(groupDry);
*/

/*
var render = function () {
  requestAnimationFrame( render );

  cube.rotation.x += 0.1;
  cube.rotation.y += 0.1;
  camera.updateProjectionMatrix();

  renderer.render(scene, camera);
};

render();
*/
renderer.render(scene, camera);
}

function init() {
  try {
    init_try();
  }
  catch (e) {
    document.getElementById("error").appendChild(
      document.createTextNode(e.message + "\n\n" + e.stack)
    );
    throw e;
  }
}
		--></script>


	</head>
	<body onload="init();">
    <pre id="error"></pre>
	</body>
</html>
