<html lang="en-US">
<head>
  <title>tabbox demo</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="tabbox.css">
  <script type="application/javascript" src="stylesheet.js"></script>
  <script type="application/javascript" src="tabbox.js"></script>

  <style type="text/css">
.tabbox > section {
  width: 300px;
  height: 200px;
  background-color: grey;
  overflow: scroll;
}

.tabbox > section.tabpanel-0 {
  background-color: red;
}

.tabbox > section.tabpanel-1 {
  background-color: green;
}

.tabbox > section.tabpanel-2 {
  background-color: blue;
}

.addTabGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
}
  </style>
  <script type="application/javascript"><!--
window.addEventListener("load", function() {
  buildTabbox(document.getElementById("tabbox-sample"));
}, true);

function addTabToTabbox(elem) {
  while ((elem.nodeType == 1) && !elem.classList.contains("tabbox"))
    elem = elem.parentNode;
  if (elem.nodeType != 1)
    return;
  
  const label = document.getElementById("newtab-label").value;
  const color = document.getElementById("newtab-color").value;
  const mayclose = document.getElementById("newtab-mayclose").value;

  const section = document.createElement("section");
  section.setAttribute("tablabel", label);
  section.setAttribute("mayclose", mayclose);
  section.setAttribute("style", `background-color: ${color}`);

  elem.appendChild(section);
}
  --></script>
</head>

<body>
  <div class="tabbox" id="tabbox-sample">
    <section tablabel="Tab 0" mayclose="confirm"></section>
    <section tablabel="Tab 1" mayclose="true"></section>
    <section tablabel="Tab 2" mayclose="false"></section>
    <section tablabel="Add Tab" mayclose="false" tailtab="true">
      <div class="addTabGrid">
        <label for="newtab-label">New tab label</label>
        <input type="text" id="newtab-label" size="10">
        <label for="newtab-color">Color</label>
        <input type="color" id="newtab-color">
        <label for="newtab-mayclose">Close tab support?</label>
        <select id="newtab-mayclose">
          <option value="confirm">Require confirmation</option>
          <option value="true">Automatically close</option>
          <option value="false">Not closeable</option>
        </select>

        <span><!-- spacer --></span>
        <span>
          <button onclick="addTabToTabbox(event.target);">
            <img src="plusicon.svg">
            Add Tab
          </button>
        </span>
      </div>
    </section>
  </div>
</body>
</html>
